<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Tema usado en mi webpage hugo - Markus Oberlehner</title><meta name="description" content="Learn how to run Nightwatch.js tests without Selenium and how to utilize parallelization for speeding up your tests."><meta name="robots" content="index,follow"><meta name="author" content="Abdias Rivera"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#00acc1"><meta property="og:title" content="Tema usado en mi webpage hugo"><meta property="og:description" content="Learn how to run Nightwatch.js tests without Selenium and how to utilize parallelization for speeding up your tests."><meta property="og:type" content="article"><meta property="og:url" content="https://codigobash.github.io/tema-usado-en-mi-webpage-hugo/"><meta property="article:published_time" content="2017-11-27T08:42:22&#43;02:00"><meta property="article:modified_time" content="2017-11-27T08:42:22&#43;02:00"><meta name="twitter:title" content="Tema usado en mi webpage hugo"><meta name="twitter:description" content="Learn how to run Nightwatch.js tests without Selenium and how to utilize parallelization for speeding up your tests."><meta name="twitter:site" content="@maoberlehner"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://markus.oberlehner.net/images/markus-oberlehner-meta-2017-06.jpg"><meta name="twitter:creator" content="@maoberlehner"><link rel="canonical" href="https://codigobash.github.io/tema-usado-en-mi-webpage-hugo/"><link rel="manifest" href="/manifest.json"><link><style>html{-webkit-box-sizing:border-box;box-sizing:border-box}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}article,footer,header,main,nav{display:block}code,pre{font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects;text-decoration-skip:objects;text-decoration:underline}a:active,a:hover{outline-width:0}small{font-size:80%}::-moz-selection{background:#00acc1;color:#fff;text-shadow:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:1em;line-height:1.6;color:#333;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif}@media screen and (min-width:20em){html{font-size:calc(1em + .25 * (100vw - 20em)/ 60)}}*{margin:0;padding:0}h1,h2{line-height:1.2;font-weight:500;font-size:1.25em}code,pre{font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace}code:not([class]){padding:.2em .4em;border-radius:.1875em;background:#f5f5f5;font-size:85%}a:focus,a:hover{text-decoration:none}.o-container{max-width:51rem;padding-right:1rem;padding-left:1rem;margin-right:auto;margin-left:auto}.o-container--s{max-width:42rem}.o-vertical-spacing>*+*{margin-top:1em}.o-vertical-spacing--xs>*+*{margin-top:.5em}.o-vertical-spacing--l>*+*{margin-top:1.5em}.o-vertical-spacing--xl>*+*{margin-top:2em}.c-anchor,.c-anchor:visited,.c-content a,.c-content a:visited{color:#00acc1}.c-byline{font-size:.8em}.highlight pre{display:block;padding:1.5em;overflow-x:auto;background:#f5f5f5;color:#333}.k,.o{font-weight:700}.c1{color:#998;font-style:italic}.kc{font-weight:700}.mi{color:#099}.s1,.sb{color:#d14}.c-main-footer{padding-top:1.5em;padding-bottom:1.5em;background:#00acc1;text-align:center;font-size:.8em}.c-main-footer,.c-main-footer a,.c-main-footer a:visited{color:#fff}.c-main-footer small{font-size:inherit}.c-main-header{padding-top:1em;padding-bottom:1em;background:#00acc1}.c-main-header,.c-main-header a{color:#fff}.c-main-header::before{position:fixed;top:0;right:0;left:0;z-index:999;height:.2em;background:#00acc1;content:''}.c-main-header__inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.c-main-header__logo{line-height:1.1;text-decoration:none;text-transform:uppercase;font-size:.8em;font-family:Tahoma,Verdana,Segoe,sans-serif}.c-main-nav{display:-webkit-box;display:-ms-flexbox;display:flex}.c-main-nav__link{display:block;color:currentColor;text-decoration:none}.c-main-nav__link:focus,.c-main-nav__link:hover{text-decoration:underline}.c-main-nav__divide{margin-right:.75em;margin-left:.75em}.c-stage{background:#fafafa}.c-stage__main{margin-top:3.5em}@media (min-width:45em){.c-stage__main{margin-top:6em}}.c-stage__footer{margin-top:3.5em}@media (min-width:45em){.c-stage__footer{margin-top:6em}}.c-title--1{font-size:1.953em}.c-content h2{font-size:1.563em}@media screen and (min-width:20em){.c-title--1{font-size:calc(1.953em + .488 * (100vw - 20em)/ 60)}.c-content h2{font-size:calc(1.563em + .39 * (100vw - 20em)/ 60)}}@media screen and (min-width:80em){html{font-size:1.25em}.c-title--1{font-size:2.441em}.c-content h2{font-size:1.953em}}</style></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="c-stage"><header class="c-main-header"><div class="o-container c-main-header__inner"><a class="c-main-header__logo" href="/">Abdias<br>River</a><nav class="c-main-nav" itemscope="" itemtype="http://schema.org/SiteNavigationElement"><a class="c-main-nav__link" href="/"><span itemprop="name">Home</span> </a><span class="c-main-nav__divide">| </span><a class="c-main-nav__link" href="/blog/"><span itemprop="name">Blog</span> </a><a class="c-main-nav__link" href="/utilidades/"><span itemprop="name">Blog</span></a></nav></div></header><main class="o-container o-container--s o-vertical-spacing o-vertical-spacing--l c-stage__main"><article class="o-vertical-spacing o-vertical-spacing--xl" itemprop="mainEntity" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="name" content="Tema usado en mi webpage hugo"><meta itemprop="description" content="Learn how to run Nightwatch.js tests without Selenium and how to utilize parallelization for speeding up your tests."><meta itemprop="datePublished" content="2017-11-27T08:42:22&#43;02:00"><meta itemprop="dateModified" content="2017-11-27T08:42:22&#43;02:00"><meta itemprop="wordCount" content="610"><meta itemprop="keywords" content="hugo,javascript,web,"><header class="o-vertical-spacing o-vertical-spacing--xs"><h1 class="c-title--1" itemprop="headline">Tema usado en mi webpage hugo</h1><p class="c-byline">Posted on <time itemprop="datePublished" datetime="2017-11-27T08:42:22&#43;02:00">27 November 2017</time>, by <span itemprop="author">Abdias Rivera</span>, in <span itemprop="articleSection"><a class="c-anchor" href="/categories/utilidades/">Utilidades</a></span>, tagged <a class="c-anchor" href="/tags/hugo/">hugo</a>, <a class="c-anchor" href="/tags/javascript/">javascript</a> and <a class="c-anchor" href="/tags/web/">web</a></p></header><div class="o-vertical-spacing o-vertical-spacing--l c-content" itemprop="articleBody"><p>In my last article series about automated testing, we were looking at how to <a href="https://markus.oberlehner.net/blog/acceptance-testing-with-nightwatch-and-cucumber-setup/">set up Nightwatch.js</a>, <a href="https://markus.oberlehner.net/blog/acceptance-testing-with-nightwatch-and-cucumber-smart-step-definitions/">write smart step definitions</a> and <a href="https://markus.oberlehner.net/blog/acceptance-testing-with-nightwatch-and-cucumber-browserstack/">how to run automated cross browser acceptance tests on BrowserStack with Nightwatch.js</a>. Today we&rsquo;re going to look at two ways of speeding up the process of running tests with Nightwatch.js – because faster is always better.</p><h2 id="running-nightwatch-js-without-selenium">Running Nightwatch.js without Selenium</h2><p>The first small speed improvement can be achieved by eliminating Selenium from the setup. As far as I know, the following approach, of running tests in Nightwatch.js without Selenium, for now is only possible with Google Chrome. If you want to run tests in Browsers other than Google Chrome, you still have to rely on Selenium or you can use BrowserStack, which also doesn&rsquo;t require you to have Selenium installed locally.</p><p>To run tests in Google Chrome directly without using Selenium, you have to change your Nightwatch.js configuration.</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span>module</span><span>.</span><span>exports</span> <span class="o">=</span> <span>{</span>
  <span class="c1">// ...
</span><span class="c1"></span>  <span>selenium</span><span class="o">:</span> <span>{</span>
    <span>start_process</span><span class="o">:</span> <span class="kc">false</span><span>,</span>
  <span>},</span>
  <span>test_settings</span><span class="o">:</span> <span>{</span>
    <span class="k">default</span><span class="o">:</span> <span>{</span>
      <span class="c1">// ChromeDriver default port.
</span><span class="c1"></span>      <span>selenium_port</span><span class="o">:</span> <span class="mi">9515</span><span>,</span>
      <span>selenium_host</span><span class="o">:</span> <span class="s1">&#39;localhost&#39;</span><span>,</span>
      <span class="c1">// Clear the default Selenium path prefix.
</span><span class="c1"></span>      <span>default_path_prefix</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span>,</span>
      <span>desiredCapabilities</span><span class="o">:</span> <span>{</span>
        <span>browserName</span><span class="o">:</span> <span class="s1">&#39;chrome&#39;</span><span>,</span>
        <span>acceptSslCerts</span><span class="o">:</span> <span class="kc">true</span><span>,</span>
      <span>},</span>
    <span>},</span>
  <span>},</span>
  <span class="c1">// ...
</span><span class="c1"></span><span>};</span></code></pre></div><p>Next you have to create a new global script (or add to an already existing one) to start the ChromeDriver in a <code>before</code> and to stop the ChromeDriver in an <code>after</code> hook.</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// globals.js
</span><span class="c1"></span><span class="k">const</span> <span>chromedriver</span> <span class="o">=</span> <span>require</span><span>(</span><span class="s1">&#39;chromedriver&#39;</span><span>);</span>

<span>module</span><span>.</span><span>exports</span> <span class="o">=</span> <span>{</span>
  <span>before</span><span class="o">:</span> <span>(</span><span>done</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>chromedriver</span><span>.</span><span>start</span><span>();</span>
    <span>done</span><span>();</span>
  <span>},</span>
  <span>after</span><span class="o">:</span> <span>(</span><span>done</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>chromedriver</span><span>.</span><span>stop</span><span>();</span>
    <span>done</span><span>();</span>
  <span>},</span>
<span>};</span></code></pre></div><p>To load the globals file above, you can add the following line to your Nightwatch.js configuration file.</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span>module</span><span>.</span><span>exports</span> <span class="o">=</span> <span>{</span>
  <span class="c1">// ...
</span><span class="c1"></span>  <span>globals_path</span><span class="o">:</span> <span class="sb">`path/to/your/globals.js`</span><span>,</span>
  <span class="c1">// ...
</span><span class="c1"></span><span>};</span></code></pre></div><p>Thats it! After amending your configuration and adding the hooks to start and stop the ChromeDriver, you&rsquo;re ready to run your tests without having to rely on Selenium. Although the gains in speed are not huge, depending on your setup, you&rsquo;ll save a few seconds here and there.</p><h2 id="parallelization-with-test-workers">Parallelization with test workers</h2><p>By default, Nightwatch.js runs your tests sequentially, but most modern computers are multi core machines and are able to run multiple processes in parallel. Luckily Nightwatch.js supports running your tests in parallel with so called test workers. To enable test workers, you have to add the following line to your configuration file.</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span>module</span><span>.</span><span>exports</span> <span class="o">=</span> <span>{</span>
  <span class="c1">// ...
</span><span class="c1"></span>  <span>test_workers</span><span class="o">:</span> <span class="kc">true</span><span>,</span>
  <span class="c1">// ...
</span><span class="c1"></span><span>};</span></code></pre></div><p>By default, Nightwatch.js will use all available CPU cores – if you have 2 cores, it will run 2 tests in parallel, if you have 4 cores it will run 4 tests in parallel, and so on.</p><p>If you want to limit the number of cores which Nightwatch.js is allowed to use, you can specify a fixed number.</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span>module</span><span>.</span><span>exports</span> <span class="o">=</span> <span>{</span>
  <span class="c1">// ...
</span><span class="c1"></span>  <span>test_workers</span><span class="o">:</span> <span>{</span>
    <span>enabled</span><span class="o">:</span> <span class="kc">true</span><span>,</span>
    <span>workers</span><span class="o">:</span> <span class="mi">3</span><span>,</span>
  <span>},</span>
  <span class="c1">// ...
</span><span class="c1"></span><span>};</span></code></pre></div><p>In the example above we&rsquo;re utilizing 3 cores for running tests. But be careful: if you&rsquo;re sharing your configuration in a Git repository with other users, there might be people with less powerful machines and less cores.</p><p>You might notice, that the output is slightly obscured when running tests in parallel. But there is a setting to improve readability of the output with test workers enabled.</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span>module</span><span>.</span><span>exports</span> <span class="o">=</span> <span>{</span>
  <span class="c1">// ...
</span><span class="c1"></span>  <span>test_workers</span><span class="o">:</span> <span class="kc">true</span><span>,</span>
  <span>detailed_output</span><span class="o">:</span> <span class="kc">false</span><span>,</span>
  <span class="c1">// ...
</span><span class="c1"></span><span>};</span></code></pre></div><h2 id="conclusion">Conclusion</h2><p>In a world of TDD, there is nothing as annoying as having to wait for your tests to finish.</p><p>Eliminating Selenium from your test setup can improve the speed of your tests slightly. Enabling parallelization with test workers takes it a step further by speeding up your tests by a factor equal to the number of cores you have in your machine (at least theoretically speaking).</p><p>Happy testing!</p></div></article></main><footer class="c-stage__footer c-main-footer"><small>&copy; Markus Oberlehner | powered by <a class="c-anchor" href="https://avalanche.oberlehner.net">avalanche</a></small></footer></div><script>if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js');
      }</script><script>window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
        ga('create','UA-57407594-3','auto');ga('send','pageview');
        [].slice.call(document.querySelectorAll('[data-event-category]')).forEach(function(e){e.addEventListener('click',function(){ga('send','event',e.getAttribute('data-event-category'),e.getAttribute('data-event-action'),e.getAttribute('data-event-label'),e.getAttribute('data-event-value'))})}),[].slice.call(document.querySelectorAll('[href*="amzn.to"]')).forEach(function(e){e.addEventListener('click',function(){ga('send','event','link','click: afiliate',e.getAttribute('href'))})});</script><script src="https://www.google-analytics.com/analytics.js" defer="defer"></script></body></html>